<%- include ('./partials/header.ejs') -%>

<div class="container">
  <% if (tasks.length === 0) { %>
  <h5 class="add-task-msg">Start adding tasks to your to-do list</h5>
  <% } %>
  <h3>To-do list:</h3>
  <table class="table table-borderless table-hover">
    <thead>
      <tr>
        <th scope="col">Date & Time</th>
        <th scope="col">Task</th>
        <th scope="col">Description</th>
        <th scope="col">Duration</th>
        <th scope="col">View task</th>
      </tr>
    </thead>
    <tbody>
      <% tasks.forEach(task => { %>
      <tr>
        <td><%= task.date %></td>
        <td><%= task.name %></td>
        <td><%= task.description %></td>
        <td><%= Math.round(task.duration) %> minutes</td>
        <td>
          <a href="/todos/<%= task.slug %>"><i class="fas fa-stopwatch"></i></a>
        </td>
      </tr>
      <% }) %>
    </tbody>
  </table>
  <form type="GET" action="/todos/new">
    <button
      type="submit"
      id="new-task"
      class="btn btn-outline-primary justify-content-center"
    >
      Add New Task
    </button>
  </form>
</div>

<%- include ('./partials/footer.ejs') -%>
